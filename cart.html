<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Your Cart – Kennesaw Motorsports</title>
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="Main_Body">

{#-- nav bar – use include, *not* extends –-#}
{% include "_nav.html" %}

<div class="cart-wrapper">
    <h1 class="cart-title">Cart</h1>

    {% if cart_items %}
    <table class="cart-table">
        <thead>
        <tr><th>Car</th><th style="text-align:right">Price</th><th></th></tr>
        </thead>
        <tbody>
        {% for item in cart_items %}
        <tr>
            <td>{{ item.name }}</td>
            <td style="text-align:right">
                $ {{ (item.price_cents / 100) | format(',.2f') }}
            </td>
            <td>
                <form action="{{ url_for('remove_from_cart', item_id=item.id) }}"
                      method="post">
                    <button class="btn small">Remove</button>
                </form>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>


    <div class="totals">
        <strong>Subtotal:</strong> ${{ '{:,.2f}'.format(subtotal_cents / 100) }}
        <p>Tax (6 %): <span>${{ (tax_cents      // 100) | string | format(',') }}</span></p>
        <p class="grand">Total:  <span>${{ (total_cents    // 100) | string | format(',') }}</span></p>

    </div>

    <form action="{{ url_for('checkout') }}" method="get"
          style="text-align:center;">
        <button class="btn primary">Submit Order</button>
    </form>

    {% else %}
    <p style="text-align:center;margin-top:3rem;">
        Your cart is empty.
    </p>
    {% endif %}
</div>
</body>
</html>


<!-- ============ mini CSS tweaks (only for this page) ============ -->
<style>
    .cart-logo             { text-align:center; margin:1rem 0; }
    .cart-logo img         { height:110px; width:auto; }

    .cart-card {
      max-width: 900px; margin:0 auto 3rem; padding:1.5rem;
      border: 4px solid #ddc432; background:#ddc432;
    }

    .cart-table            { width:100%; border-collapse:collapse; font-family:serif; }
    .cart-table thead th   { color:#fff; font-size:1.25rem; padding:.5rem 0; }
    .cart-table td, .cart-table th { padding:.35rem .5rem; color:#fff; }
    .price-col             { text-align:right; width:140px; }

    .remove-btn, .checkout-btn{
      background:#343c4c; color:#fff; border:2px solid #fff; cursor:pointer;
      padding:.4rem .9rem; font-family:serif; font-size:15px;
    }
    .checkout-btn{ display:block; margin:1.5rem auto 0; width:160px; }

    .totals-label          { text-align:right; }
</style>

</body>
</html>
